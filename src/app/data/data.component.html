<div
  *ngrxLet="{ theme: theme$, width: width$ } as observables"
  class="container"
  [ngClass]="[observables.theme, observables.width]"
>
  <ng-container *ngIf="user$ | async as user">
    <img class="avatar" [src]="user.avatar_url" alt="Avatar" />
    <header>
      <div class="name-login">
        <span class="name">{{ user.name || user.login }}</span>
        <span class="login">@{{ user.login }}</span>
      </div>
      <span class="created_at"
        >Joined {{ user.created_at | date : "d MMM y" }}</span
      >
    </header>
    <section class="bio" [ngClass]="{ 'no-bio': !user.bio }">
      <p>{{ user.bio ?? "This profile has no bio" }}</p>
    </section>
    <section class="stats">
      <ul class="stats-details">
        <li *ngFor="let stat of stats" class="stat-item">
          <span class="title">{{ stat.displayed }}</span>
          <span class="number">{{ user[stat.key] }}</span>
        </li>
      </ul>
    </section>
    <footer>
      <ul class="footer-items">
        <li>
          <app-footer-item item="location">
            <span class="value">{{ user.location || "Not Available" }}</span>
          </app-footer-item>
        </li>
        <li>
          <app-footer-item item="website" key="blog">
            <a *ngIf="user.blog" target="_blank" [href]="user.blog">{{
              user.blog
            }}</a>
            <span *ngIf="!user.blog" class="value">Not Available</span>
          </app-footer-item>
        </li>
        <li>
          <app-footer-item item="twitter" key="twitter_username">
            <a
              *ngIf="user.twitter_username"
              target="_blank"
              [href]="'https://twitter.com/' + user.twitter_username"
              >{{ user.twitter_username }}</a
            >
            <span *ngIf="!user.twitter_username" class="value"
              >Not Available</span
            >
          </app-footer-item>
        </li>
        <li>
          <app-footer-item item="company">
            <a
              *ngIf="user.company"
              target="_blank"
              [href]="'https://github.com/' + user.company.slice(1)"
              >{{ user.company }}</a
            >
            <span *ngIf="!user.company" class="value">Not Available</span>
          </app-footer-item>
        </li>
      </ul>
    </footer>
  </ng-container>
</div>
